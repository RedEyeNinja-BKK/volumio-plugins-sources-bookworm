{
  "pages": [
    {
      "id": "peppymeterbasic",
      "name": "PeppyMeter Basic",
      "navigation": "single",
      "icon": "fa-bar-chart",
      "sections": [
        {
          "id": "general",
          "name": "General",
          "content": [
            {
              "id": "autostart",
              "type": "switch",
              "label": "Autostart PeppyMeter",
              "description": "Start PeppyMeter automatically when Volumio boots.",
              "element": "switch",
              "value": true
            },
            {
              "id": "backend",
              "type": "select",
              "label": "Backend",
              "description": "Choose how PeppyMeter receives audio.",
              "element": "select",
              "value": "loopback",
              "options": [
                { "value": "loopback", "label": "ALSA Loopback (default)" },
                { "value": "camilla_fifo", "label": "Camilla FIFO / Monitor" }
              ]
            }
          ]
        },
        {
          "id": "camilla",
          "name": "Camilla FIFO / Monitor",
          "content": [
            {
              "id": "fifoPath",
              "type": "text",
              "label": "FIFO Path",
              "description": "Path of the FIFO Camilla writes for PeppyMeter.",
              "element": "input",
              "value": "/tmp/basic_peppy_meter_fifo"
            },
            {
              "id": "fifoRate",
              "type": "number",
              "label": "Sample Rate",
              "description": "Match CamillaDSP fixed rate.",
              "element": "input",
              "value": 176400,
              "attributes": { "min": 32000, "max": 192000, "step": 1 }
            },
            {
              "id": "fifoChannels",
              "type": "number",
              "label": "Channels",
              "description": "Number of channels written to the FIFO.",
              "element": "input",
              "value": 2,
              "attributes": { "min": 1, "max": 8, "step": 1 }
            },
            {
              "id": "fifoFormat",
              "type": "select",
              "label": "Sample Format",
              "description": "PCM sample format expected by PeppyMeter.",
              "element": "select",
              "value": "S16_LE",
              "options": [
                { "value": "S16_LE", "label": "S16_LE" },
                { "value": "S24_LE", "label": "S24_LE" },
                { "value": "S32_LE", "label": "S32_LE" }
              ]
            }
          ],
          "dependencies": [
            {
              "element": "peppymeterbasic.general.backend",
              "value": "camilla_fifo",
              "visibility": "show"
            }
          ]
        },
        {
          "id": "advanced",
          "name": "Advanced",
          "content": [
            {
              "id": "templatesPath",
              "type": "text",
              "label": "Templates Folder",
              "description": "Where PeppyMeter templates are stored.",
              "element": "input",
              "value": "/data/INTERNAL/PeppyMeterBasic/Templates"
            }
          ]
        }
      ]
    }
  ]
}
